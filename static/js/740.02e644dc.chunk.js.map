{"version":3,"file":"static/js/740.02e644dc.chunk.js","mappings":"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","sources":["components/MovieCard/MovieCard.styled.jsx","components/MovieCard/MovieCard.jsx","components/AdditionalInfo/AdditionalInfo.styled.jsx","components/AdditionalInfo/AdditionalInfo.jsx","Pages/MovieDetails.jsx","api.js"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const Section = styled.section`\n  padding: 20px;\n  display: flex;\n  gap: 20px;\n`;\nexport const BackLink = styled(Link)`\n  display: inline-block;\n  margin: 6px;\n  padding: 5px;\n  border-radius: 20px;\n  font-size: 12px;\n  background: linear-gradient(0.25turn, #90cea1, #01b4e4);\n  text-align: center;\n`;\nexport const Poster = styled.img`\n  width: 200px;\n`;\nexport const Description = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  max-width: 600px;\n`;\n","import React, { useRef } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Section, BackLink, Poster, Description } from './MovieCard.styled';\nimport defaultPicture from '../../images/default-image.jpg';\n\nconst IMAGES_URL = 'https://image.tmdb.org/t/p/w500';\n\nfunction MovieCard({ movieDetails }) {\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? `/movies`);\n  if (!movieDetails) return;\n  const { poster_path, title, vote_average, overview, release_date, genres } =\n    movieDetails;\n  const genresToDisplay = genres.map(({ name }) => name).join(' ');\n\n  return (\n    <>\n      <BackLink to={backLinkHref.current}>&#129044; Go back</BackLink>\n      <Section>\n        {poster_path ? (\n          <Poster src={IMAGES_URL + poster_path} alt={title} width=\"300\" />\n        ) : (\n          <Poster src={defaultPicture} alt={title} />\n        )}\n        <Description>\n          <h2>{`${title} (${release_date.slice(0, 4)})`}</h2>\n          <p>User Score: {`${Math.round(Number(vote_average) * 10)}%`}</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h4>Genres</h4>\n          <p>{genresToDisplay}</p>\n        </Description>\n      </Section>\n    </>\n  );\n}\n\nexport default MovieCard;\n","import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const Section = styled.section``;\nexport const SectionNav = styled.div`\n  padding: 4px 20px;\n  background-color: #90cea1;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n`;\nexport const InfoLink = styled(Link)`\n  display: inline-block;\n  margin: 6px;\n  padding: 5px;\n  width: 70px;\n  border-radius: 20px;\n  color: white;\n  background-color: #0d253f;\n  /* background: linear-gradient(0.25turn, #90cea1, #01b4e4); */\n  text-align: center;\n`;\n","import React, { Suspense } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { Loader } from 'components/Loader/Loader';\nimport { Section, SectionNav, InfoLink } from './AdditionalInfo.styled';\n\nfunction AdditionalInfo() {\n  return (\n    <Section>\n      <SectionNav>\n        <h3>Additional information</h3>\n        <InfoLink to=\"cast\"> Cast </InfoLink>\n        <InfoLink to=\"reviews\"> Reviews </InfoLink>\n      </SectionNav>\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </Section>\n  );\n}\n\nexport default AdditionalInfo;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Loader } from 'components/Loader/Loader';\nimport { fetchMovieDetails } from '../api';\nimport MovieCard from 'components/MovieCard/MovieCard';\nimport AdditionalInfo from 'components/AdditionalInfo/AdditionalInfo';\n\nfunction MovieDetails() {\n  const abortCtrl = useRef();\n  const { movieId } = useParams();\n  const [isLoading, setIsLoading] = useState(false);\n  const [movieDetails, setMovieDetails] = useState();\n\n  useEffect(() => {\n    async function loadMovieDetails() {\n      if (abortCtrl.current) {\n        abortCtrl.current.abort();\n      }\n      abortCtrl.current = new AbortController();\n      try {\n        setIsLoading(true);\n        const response = await fetchMovieDetails({\n          abortCtrl,\n          movieId,\n          fetchField: 'movie',\n        });\n        setMovieDetails(response);\n      } catch (error) {\n        if (error.code !== 'ERR_CANCELED') {\n          return toast.warn(`Oops, something went wrong.`);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    loadMovieDetails();\n  }, [movieId]);\n\n  return (\n    <>\n      <MovieCard movieDetails={movieDetails} />\n      {isLoading && <Loader />}\n      <AdditionalInfo />\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n}\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '1bfc473de4fefb6be0222ae7c51b95d7';\n\nexport async function fetchTrendMovies() {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n  };\n  const response = await axios.get(`${BASE_URL}trending/movie/day`, {\n    params: params,\n  });\n  return response.data;\n}\n\nexport async function fetchMovies({ abortCtrl, query }) {\n  const params = {\n    api_key: API_KEY,\n    query: query,\n    language: 'en-US',\n    include_adult: false,\n  };\n  const response = await axios.get(`${BASE_URL}search/movie`, {\n    signal: abortCtrl.signal,\n    params: params,\n  });\n  return response.data;\n}\n\nexport async function fetchMovieDetails({ abortCtrl, movieId, fetchField }) {\n  const params = {\n    api_key: API_KEY,\n    language: 'en-US',\n  };\n  let endPoint;\n  switch (fetchField) {\n    case 'movie':\n      endPoint = `${BASE_URL}/movie/${movieId}`;\n      break;\n    case 'cast':\n      endPoint = `${BASE_URL}/movie/${movieId}/credits`;\n      break;\n    case 'reviews':\n      endPoint = `${BASE_URL}/movie/${movieId}/reviews`;\n      break;\n    default:\n      return;\n  }\n  const response = await axios.get(endPoint, {\n    signal: abortCtrl.signal,\n    params: params,\n  });\n  return response.data;\n}\n"],"names":["Section","styled","BackLink","Link","Poster","Description","movieDetails","location","useLocation","backLinkHref","useRef","state","from","poster_path","title","vote_average","overview","release_date","genresToDisplay","genres","map","name","join","to","current","src","alt","width","defaultPicture","slice","Math","round","Number","SectionNav","InfoLink","Suspense","fallback","Loader","abortCtrl","movieId","useParams","useState","isLoading","setIsLoading","setMovieDetails","useEffect","abort","AbortController","fetchMovieDetails","fetchField","response","code","toast","loadMovieDetails","autoClose","BASE_URL","API_KEY","fetchTrendMovies","params","api_key","language","axios","data","fetchMovies","query","include_adult","signal","endPoint"],"sourceRoot":""}